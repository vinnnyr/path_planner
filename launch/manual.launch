<launch>
<param name="use_sim_time" value="1"/>
<!-- https://answers.ros.org/question/12169/roscpp-using-simulated-time/ -->
 <!-- Turn on hybrid_astar node -->
 <node name="hybrid_astar" pkg="hybrid_astar" type="hybrid_astar" launch-prefix="xterm -e gdb --args">  
    <!-- <remap from="/initialpose" to="/pose_estimate" />
    <remap from="/move_base_simple/goal" to="/rviz/goal"/> -->
</node>
<node pkg="stage_ros" type="stageros" name="stageros"
	 args="-g runs headless $(find lawn_tractor_sim)/stage/farm.world">
	 <remap from="base_scan" to="scan"/>
</node>
<!-- ************** Robot Description *************** -->
    <!-- robot_description is used by nodes that publish to joint_states. -->
    <param name="robot_description"
           command="$(find xacro)/xacro --inorder $(find lawn_tractor_sim)/urdf/lawn_tractor.urdf.xacro"/>

    <!-- Read joint positions from joint_states, then publish the vehicle's
         state to tf. -->
    <node name="vehicle_state_publisher" pkg="robot_state_publisher"
          type="robot_state_publisher">
      <param name="publish_frequency" value="30.0"/>
    </node>
 <node pkg="tf" type="static_transform_publisher" name="map_to_odom" args="0.0 0.0 0.0 0 0 0.0 /map /odom 100"/>
<node pkg="tf" type="static_transform_publisher" name="map_to_utm" args="0.0 0.0 0.0 0 0 0.0 /map /path 100"/>
 <!-- ****** Fake localization for map and gps ***** -->
<node name="odom_to_pose_estimate" pkg="lawn_tractor_navigation" type="odom_to_pose_estimate.py" output="screen" />
<node pkg="tf" type="static_transform_publisher" name="map_to_path" args="0.0 0.0 0.0 0 0 0.0 /map /path 100"/>
<node pkg="lawn_tractor_sim" type="odom_to_lla.py" name="odom_to_lla" output="screen"/>

 <!-- <node name="map_server" pkg="map_server" type="map_server"
		 args="$(find lawn_tractor_sim)/maps/farm.yaml" output="screen">
  <param name="/use_sim_time" value="1"/> 
  https://answers.ros.org/question/12169/roscpp-using-simulated-time/
	<param name="frame_id" value="map"/>
</node> -->
 <!-- <node name="tf_broadcaster" pkg="hybrid_astar" type="tf_broadcaster" /> -->
 <node name="map_server" pkg="map_server" type="map_server" args="$(find hybrid_astar)/maps/map.yaml" />
 <node name="rviz" pkg="rviz" type="rviz" args="-d $(find hybrid_astar)/launch/config.rviz">
    <!-- <remap from="/initialpose" to="/pose_estimate" />
    <remap from="move_base_simple/goal" to="rviz/goal"/> -->
 </node>
</launch>
